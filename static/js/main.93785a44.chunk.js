(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/TrybeStore.ccb331dc.PNG"},24:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),s=(a(29),a(30),a(31),a(32),a(33),a(34),a(6)),o=a.n(s),l=a(9),u=a(1),m=a(2),d=a(4),p=a(3),h=a(12),f=a(5),b=a(14);function v(){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(l.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.mercadolibre.com/items/".concat(t),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(){var t,a,n,r,c,i,s,l,u,m,d,p,h=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:"",a=h.length>1&&void 0!==h[1]?h[1]:"",""===t||""!==a){e.next=13;break}return r="https://api.mercadolibre.com/sites/MLB/search?category=".concat(t),e.next=6,fetch(r);case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,n=i,e.next=33;break;case 13:if(""!==t||""===a){e.next=24;break}return s="https://api.mercadolibre.com/sites/MLB/search?q=".concat(a),e.next=17,fetch(s);case 17:return l=e.sent,e.next=20,l.json();case 20:u=e.sent,n=u,e.next=33;break;case 24:if(""===t||""===a){e.next=33;break}return m=" https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a),e.next=28,fetch(m);case 28:return d=e.sent,e.next=31,d.json();case 31:p=e.sent,n=p;case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){return E.apply(this,arguments)},C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categories:[]},e.SetCategoriesState=function(t){e.setState({categories:t})},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,this.SetCategoriesState(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.categories,t=this.props,a=t.onInputChange,n=t.handleSelectChange,c=t.categoriaClass;return r.a.createElement("section",{className:c},r.a.createElement("div",null,r.a.createElement("h3",{className:"title-text"},"Categorias:"),r.a.createElement("label",{htmlFor:"sort-by-price"},r.a.createElement("select",{name:"sort-by-price",onChange:n},r.a.createElement("option",{value:"sortByPrice",selected:!0},"Ordenar por pre\xe7o"),r.a.createElement("option",{value:"lowToHigh"},"Menor Pre\xe7o"),r.a.createElement("option",{value:"highToLow"},"Maior Pre\xe7o")))),e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("label",{"data-testid":"category",htmlFor:e.id},r.a.createElement("input",{type:"radio",id:e.id,name:"categoria",value:e.id,onClick:a}),e.name))})))}}]),a}(r.a.Component),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.cartItems,t=0;0!==e.length&&(t=e.map((function(e){return e.quantity})).reduce((function(e,t){return t+e})));return r.a.createElement("div",{className:"quantify-container "},t)}}]),a}(r.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searchItem,a=e.onInputChange;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text","data-testid":"query-input",name:"searchInput",onChange:a,placeholder:"Estou procurando...",onKeyPress:function(e){"Enter"===e.key&&t()}}),r.a.createElement("button",{className:"search-button",type:"button","data-testid":"query-button",onClick:t},r.a.createElement("i",{className:"uil uil-search"})))}}]),a}(r.a.Component),k=a(20),x=a.n(k),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menuDisplay:"display-none",iconMenu:"uil-list-ul"},e.showMenu=function(){"display-none"===e.state.menuDisplay?e.setState({menuDisplay:"",iconMenu:"uil-multiply"}):e.setState({menuDisplay:"display-none",iconMenu:"uil-list-ul"})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.menuDisplay,a=e.iconMenu,n=this.props,c=n.cartItems,i=n.onInputChange,s=n.searchItem;return r.a.createElement("header",null,r.a.createElement("div",{className:"header-box"},r.a.createElement(h.b,{to:"/"},r.a.createElement("img",{className:"logo",src:x.a,alt:"logo da trybe"})),r.a.createElement(N,{onInputChange:i,searchItem:s}),r.a.createElement(I,{cartItems:c}),r.a.createElement("button",{type:"button",onClick:this.showMenu,className:"button-menu"},r.a.createElement("i",{className:"uil ".concat(a," icon")}))),r.a.createElement("nav",{className:"nav-items ".concat(t)},r.a.createElement(h.b,{to:"/"},r.a.createElement("span",{className:"text-menu"},"Home"),r.a.createElement("i",{className:"uil uil-estate"})),r.a.createElement(h.b,{to:"/cart","data-testid":"shopping-cart-button"},r.a.createElement("span",{className:"text-menu"},"Cart"),r.a.createElement("i",{className:"uil uil-shopping-cart"}))))}}]),a}(r.a.Component),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.productsList,a=e.addToCart;return r.a.createElement("div",{className:"products-container"},t.map((function(e,t){return r.a.createElement("div",{key:"item".concat(t),className:"product card","data-testid":"product"},r.a.createElement("img",{className:"product-image",src:e.thumbnail,alt:e.title}),r.a.createElement("span",null,"R$",e.price),e.shipping.free_shipping&&r.a.createElement("span",{"data-testid":"free-shipping",className:"free-shipping"},"Frete Gr\xe1tis!"),r.a.createElement(h.b,{to:"/product/details/".concat(e.id),"data-testid":"product-detail-link",className:"button-link"},"Ver detalhes"," ",r.a.createElement("i",{className:"uil uil-ellipsis-v"})),r.a.createElement("button",{type:"button",name:"product-add-to-cart",className:"cart-button","data-testid":"product-add-to-cart",id:JSON.stringify(e),onClick:a},"Adicionar ao Carrinho"),r.a.createElement("span",{className:"item-title"},e.title))})))}}]),a}(r.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.imageClass,a=e.sliderIndex,n=e.slideImageRight,c=e.slideImageLeft;return r.a.createElement("div",{className:t[a]},r.a.createElement("button",{className:"slider-btton",type:"button",onClick:c},r.a.createElement("i",{className:"uil uil-angle-left-b"})),r.a.createElement("button",{className:"slider-btton",type:"button",onClick:n},r.a.createElement("i",{className:"uil uil-angle-right-b"})))}}]),a}(r.a.Component),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={productsList:[],categoria:"",searchInput:"",categoriaClass:"categorias",sliderImage:["first-image","second-image","third-image"],sliderIndex:0,searched:!1},e.handleSelectChange=function(t){var a=t.target,n=e.state.productsList;"lowToHigh"===a.value&&e.setState({categoriaClass:"categorias",productsList:n.sort((function(e,t){return e.price-t.price}))}),"highToLow"===a.value&&e.setState({categoriaClass:"categorias",productsList:n.sort((function(e,t){return t.price-e.price}))}),"sortByPrice"===a.value&&(e.setState({categoriaClass:"categorias"}),e.searchItem())},e.onInputChange=function(t){var a,n=t.target,r=n.value,c=n.name;"categoria"===c?e.setState((a={},Object(b.a)(a,c,r),Object(b.a)(a,"categoriaClass","categorias"),a),e.searchItem,{categoriaClass:"categorias-active"}):e.setState(Object(b.a)({},c,r))},e.changeCategoryClass=function(){e.setState((function(){return{categoriaClass:"categorias-active"}}))},e.searchItem=Object(l.a)(o.a.mark((function t(){var a,n,r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.categoria,r=a.searchInput,e.setState({loading:!0}),t.next=4,y(n,r);case 4:c=t.sent,""===n&&""===r||(void 0!==c.results?e.setState({productsList:c.results,searched:!0,loading:!1}):e.setState({searched:!0,loading:!1}));case 6:case"end":return t.stop()}}),t)}))),e.slideImageRight=function(){var t=e.state,a=t.sliderImage,n=t.sliderIndex;n===a.length-1?e.setState({sliderIndex:0}):e.setState({sliderIndex:n+1})},e.slideImageLeft=function(){var t=e.state,a=t.sliderImage,n=t.sliderIndex;0===n?e.setState({sliderIndex:a.length-1}):e.setState({sliderIndex:n-1})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.productsList,a=e.searched,n=e.categoriaClass,c=e.sliderImage,i=e.sliderIndex,s=e.loading,o=this.props,l=o.addToCart,u=o.cartItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{cartItems:u,searchItem:this.searchItem,onInputChange:this.onInputChange}),r.a.createElement(q,{imageClass:c,sliderIndex:i,slideImageRight:this.slideImageRight,slideImageLeft:this.slideImageLeft}),r.a.createElement("div",{className:"center-me"},s?r.a.createElement("div",{className:"c-loader"}):""),r.a.createElement("div",{className:"container"},a&&0===t.length?"Nenhum produto encontrador":a&&r.a.createElement(w,{productsList:t,addToCart:l}),!1===a&&r.a.createElement("div",{className:"products-container"},r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.")),r.a.createElement("div",{className:"filter"},r.a.createElement("button",{type:"button",className:"slider-btton",onClick:this.changeCategoryClass},r.a.createElement("i",{className:"uil uil-exchange-alt"}),"Ordenar")),r.a.createElement(C,{categoriaClass:n,onInputChange:this.onInputChange,handleSelectChange:this.handleSelectChange})))}}]),a}(r.a.Component),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.quantity,n=e.addProductQuantity,c=e.removeProductQuantity;return r.a.createElement("div",{key:t.id,className:"card cart mb-3 mt-1 card-center"},r.a.createElement("div",{className:"flex mb-3 card-center"},r.a.createElement("img",{src:t.thumbnail,alt:t.title}),r.a.createElement("div",{className:"mx-2 flex card-descriptions"},r.a.createElement("div",{className:"card-width"},r.a.createElement("h2",{"data-testid":"shopping-cart-product-name"},"".concat(t.title)),t.shipping.free_shipping&&r.a.createElement("span",{"data-testid":"free-shipping",className:"free-shipping"},"Frete Gr\xe1tis!")),r.a.createElement("div",{className:"centerp"},r.a.createElement("p",null,"R$",t.price*a)))),r.a.createElement("div",{className:"flex end"},r.a.createElement("button",{className:"btn btn-qtd btn-outline-success","data-testid":"product-decrease-quantity",type:"button",onClick:c,id:t.id},"-"),r.a.createElement("div",{"data-testid":"shopping-cart-product-quantity",className:"btn"},a),r.a.createElement("button",{className:"btn btn-qtd btn-outline-success","data-testid":"product-increase-quantity",type:"button",id:t.id,onClick:n},"+")))}}]),a}(r.a.Component),D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartItems,a=e.addProductQuantity,n=e.removeProductQuantity;return r.a.createElement("div",{className:"py-5"},t.map((function(e,t){return r.a.createElement(L,{key:"product".concat(t),removeProductQuantity:n,addProductQuantity:a,quantity:e.quantity,item:e.product})})),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"btn btn-success button-cart flex mb-3 mx-auto"},r.a.createElement(h.b,{"data-testid":"checkout-products",to:"/checkout"},"Finalizar Compra"))))}}]),a}(r.a.Component),F=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartItems,a=e.addProductQuantity,n=e.removeProductQuantity;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{cartItems:t}),0!==t.length?r.a.createElement("section",{className:"cart-full"},r.a.createElement(D,{cartItems:t,removeProductQuantity:n,addProductQuantity:a})):r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"))}}]),a}(r.a.Component),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component),Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.cartItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{cartItems:e}),r.a.createElement("form",{className:"checkout"},r.a.createElement("label",{className:"label-form-item",htmlFor:"input-fullname"},"Nome",r.a.createElement("input",{name:"input-fullname","data-testid":"checkout-fullname"})),r.a.createElement("label",{className:"label-form-item",htmlFor:"input-email"},"Email",r.a.createElement("input",{name:"input-email",type:"email","data-testid":"checkout-email"})),r.a.createElement("label",{className:"label-form-item",htmlFor:"input-cpf"},"CPF",r.a.createElement("input",{name:"input-cpf","data-testid":"checkout-cpf"})),r.a.createElement("label",{className:"label-form-item",htmlFor:"input-phone-number"},"Telefone",r.a.createElement("input",{name:"input-phone-number","data-testid":"checkout-phone"})),r.a.createElement("label",{className:"label-form-item",htmlFor:"input-cep"},"CEP",r.a.createElement("input",{name:"input-cep","data-testid":"checkout-cep"})),r.a.createElement("label",{className:"label-form-item",htmlFor:"input-adress"},"Endere\xe7o",r.a.createElement("input",{name:"input-adress","data-testid":"checkout-address"})),r.a.createElement("button",{className:"finalize-button",type:"button"},"Finalizar compra")))}}]),a}(r.a.Component),T=a(23),A=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onInputChange,a=e.sendAvaluation,n=e.userEmail,c=e.userDescription;return r.a.createElement("section",{className:"user-rating-sec mb-5"},r.a.createElement("div",{className:"rating-container card"},r.a.createElement("div",null,r.a.createElement("input",{className:"email form-control mb-3",type:"email",value:n,name:"userEmail","data-testid":"product-detail-email",placeholder:"Seu e-mail",onChange:t}),r.a.createElement("input",{className:"form-check-input mb-3",type:"radio",name:"avaluation",value:"1","data-testid":"1-rating",onChange:t}),r.a.createElement("input",{className:"form-check-input mb-3",type:"radio",name:"avaluation",value:"2","data-testid":"2-rating",onChange:t}),r.a.createElement("input",{className:"form-check-input mb-3",type:"radio",name:"avaluation",value:"3","data-testid":"3-rating",onChange:t}),r.a.createElement("input",{className:"form-check-input mb-3",type:"radio",name:"avaluation",value:"4","data-testid":"4-rating",onChange:t}),r.a.createElement("input",{className:"form-check-input mb-3",type:"radio",name:"avaluation",value:"5","data-testid":"5-rating",onChange:t})),r.a.createElement("div",null,r.a.createElement("textarea",{className:"form-control mb-3 textarea",id:"userDescription",name:"userDescription",rows:"5",cols:"33",value:c,onChange:t,"data-testid":"product-detail-evaluation"})),r.a.createElement("button",{className:"btn btn-outline-success",type:"button","data-testid":"submit-review-btn",onClick:a},"Enviar Avalia\xe7\xe3o")))}}]),a}(r.a.Component),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.rate,n=e.description;return r.a.createElement("div",{className:"card mb-3 p-3"},r.a.createElement("div",null,r.a.createElement("span",null,"e-mail:",t)),r.a.createElement("span",null,"Nota:",a),r.a.createElement("p",null,"Coment\xe1rio:",n))}}]),a}(r.a.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.avaluationsSaved;return r.a.createElement("section",{className:"avaluations-saved-sec card mb-5"},e.map((function(e,t){return r.a.createElement(B,{key:t,description:e.description,rate:e.rate,email:e.email})})))}}]),a}(r.a.Component),R=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={product:"",userEmail:"",avaluation:"0",userDescription:"",avaluationsSaved:[]},e.sendAvaluation=function(){var t=e.props.match.params.id,a=e.state,n=a.avaluation,r=a.userEmail,c=a.userDescription,i=a.avaluationsSaved,s={email:r,description:c,rate:n},o=[];(o=Object(T.a)(i)).push(s),e.setState({avaluationsSaved:o,userEmail:"",avaluation:"0",userDescription:""}),localStorage.setItem(t,JSON.stringify(o))},e.onInputChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(b.a)({},r,n))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,j(t);case 3:a=e.sent,this.setState((function(){return{product:a}}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props,a=t.addToCart,n=t.match.params.id,c=t.cartItems,i=this.state,s=i.product,o=i.userEmail,l=i.avaluation,u=i.userDescription,m=s.title,d=s.price,p=s.thumbnail;return e=localStorage.getItem(n)?JSON.parse(localStorage.getItem(n)):[],r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{cartItems:c}),r.a.createElement("main",null,r.a.createElement("section",{className:"container-fluid py-4 card detailsPage space-between"},r.a.createElement("div",{className:"m-3"},r.a.createElement("img",{src:p,alt:m})),r.a.createElement("div",{className:"fs-1 ms-1 mt-3 detailsInfo"},r.a.createElement("h2",{"data-testid":"product-detail-name"},m),r.a.createElement("p",null,"R$",d),r.a.createElement("button",{className:"btn btn-success button",type:"submit","data-testid":"product-detail-add-to-cart",id:JSON.stringify(s),onClick:a},"Adicionar ao Carrinho"))),r.a.createElement(A,{className:"mb-5",userEmail:o,avaluation:l,userDescription:u,sendAvaluation:this.sendAvaluation,onInputChange:this.onInputChange}),r.a.createElement(J,{avaluationsSaved:e})))}}]),a}(r.a.Component),_=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.addToCart=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,c,i,s,l,u,m,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target,r=e.state.cartItems,c=JSON.parse(n.id),i=r,r.every((function(e){return e.product.id!==c.id}))?(s={quantity:1,product:c},i.push(s),e.setState((function(){return{cartItems:i}}))):r.some((function(e){return e.product.id===c.id}))&&(1===r.length&&r[0].quantity<c.available_quantity[0]?((l=r[0]).quantity+=1,e.setState({cartItems:[l]})):(m=(u=r).findIndex((function(e){return e.product.id===c.id})),(d=u.filter((function(e){return e.product.id===c.id}))[0]).quantity<d.product.available_quantity&&(d.quantity+=1,u[m]=d),e.setState({cartItems:u}))),localStorage.setItem("cartItems",JSON.stringify(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addProductQuantity=function(){var t=Object(l.a)(o.a.mark((function t(a){var n,r,c,i,s,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target,r=e.state.cartItems,c=n.id,1===r.length?(i=r[0],r[0].quantity<i.product.available_quantity&&(i.quantity+=1),e.setState({cartItems:[i]})):(l=(s=r).findIndex((function(e){return e.product.id===c})),(u=s.filter((function(e){return e.product.id===c}))[0]).quantity<u.product.available_quantity&&(u.quantity+=1),s[l]=u,e.setState({cartItems:s}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeProductQuantity=function(t){var a=t.target.id,n=e.state.cartItems;if(1!==n.filter((function(e){return e.product.id===a}))[0].quantity){var r=n,c=r.findIndex((function(e){return e.product.id===a})),i=r.filter((function(e){return e.product.id===a}))[0];i.quantity-=1,r[c]=i,e.setState({cartItems:r})}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){!1===!localStorage.getItem("cartItems")&&this.setState({cartItems:JSON.parse(localStorage.getItem("cartItems"))})}},{key:"render",value:function(){var e=this,t=this.state.cartItems;return r.a.createElement(h.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(a){return r.a.createElement(P,Object.assign({},a,{cartItems:t,addToCart:e.addToCart}))}}),r.a.createElement(f.a,{path:"/cart",render:function(a){return r.a.createElement(F,Object.assign({},a,{removeProductQuantity:e.removeProductQuantity,addProductQuantity:e.addProductQuantity,cartItems:t}))}}),r.a.createElement(f.a,{path:"/cart/:product",component:M}),r.a.createElement(f.a,{path:"/checkout",render:function(e){return r.a.createElement(Q,Object.assign({},e,{cartItems:t}))}}),r.a.createElement(f.a,{path:"/product/details/:id",render:function(a){return r.a.createElement(R,Object.assign({},a,{cartItems:t,addToCart:e.addToCart}))}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.93785a44.chunk.js.map